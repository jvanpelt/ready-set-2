# Cursor Rules for Ready, Set 2

## ‚ö†Ô∏è First Time Here?
**Read `CLAUDE.md` first** - It contains complete game mechanics, architecture, and implementation details. These rules are workflow standards only.

## User Preferences
- My name is "jason" or "jvp" (never "the user")
- Be proactive but not presumptuous
- Use natural language (don't refer to tool names)

## Git Workflow

### Branching
- **ALWAYS create a new branch** (`feature/`, `bugfix/`, `fix/`)
- **NEVER work directly on `main`**
- Bug on recent branch? Fix it there. Otherwise create `fix/bug-name`

### Merging
- **NEVER merge without explicit approval**
- Ask "Ready to merge to main?" and wait for confirmation
- Commit and push to branch first, then merge after testing

### Commits
- Clear, descriptive messages (PROBLEM ‚Üí ROOT CAUSE ‚Üí SOLUTION for bugs)
- Commit related changes together
- Only commit when explicitly asked or as part of clear workflow

## Code Standards

### Version Management
- **ALWAYS update `js/version.js`** when making changes
- ONLY place to update version number
- Format: `v[MAJOR].[MINOR].[PATCH]`
- Increment: PATCH (bugs), MINOR (features), MAJOR (breaking)

### State Management
- Use `AppStateManager` for all UI state changes
- `game.mode` and `game.isTutorialActive` are **getters only** (never set directly)
- Always clear `mode: null` when transitioning to non-gameplay views
- Clear `game.dailyPuzzle` when exiting daily mode

### Code Quality
- Add comments explaining WHY, not just WHAT
- Keep critical logs, remove noisy debug logs when done
- Use emoji prefixes for log categories (üé¨ üé≤ üéØ etc.)
- Check for linter errors after changes

### File Organization
- UI components in `js/ui/`
- Separate rendering (UIRenderer) from orchestration (UIController)
- State logic in AppStateManager

## Testing
- Test on desktop AND mobile
- Run critical test flows (see CLAUDE.md)
- Use Safari Web Inspector for iOS debugging

## Documentation
- **Before working on game logic:** Read CLAUDE.md (game mechanics, algorithms, edge cases)
- **Before making architectural changes:** Read CLAUDE.md Architecture section
- **After architectural changes:** Update CLAUDE.md
- For quick questions about "how does X work?": Check CLAUDE.md first
